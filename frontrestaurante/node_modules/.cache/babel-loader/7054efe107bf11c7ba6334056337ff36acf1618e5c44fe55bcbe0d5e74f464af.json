{"ast":null,"code":"import _objectSpread from\"C:/Users/Marinara Souza Silva/Desktop/ProjetoRestaurante/frontrestaurante/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useForm}from\"react-hook-form\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{api}from\"../../Services/Api\";import Input from\"../../Components/Input\";import Button from\"../../Components/Button\";import{yupResolver}from'@hookform/resolvers/yup';import*as yup from'yup';import{TitleLogin,Container,Wrapper,CriarText}from\"./styles\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const schema=yup.object({nome:yup.string().required('Campo obrigatório'),telefone:yup.string().required('Campo obrigatório')}).required();function Login(){var _errors$nome,_errors$telefone;const navigate=useNavigate();const handleCriarConta=()=>{navigate('/criarconta');};const{control,handleSubmit,formState:{errors}}=useForm({resolver:yupResolver(schema),mode:\"onChange\"});const[cliente,setCliente]=useState({id:'',nome:'',telefone:''});const handleChange=e=>{const{name,value}=e.target;setCliente(_objectSpread(_objectSpread({},cliente),{},{[name]:value}));console.log(cliente);};const clienteLoginPost=async e=>{e.preventDefault();try{delete cliente.id;if(cliente.nome==null||cliente.telefone==null){alert(\"Insira o nome e o telefone\");}else{const response=await api.post(\"Cliente/Login\",cliente);if(response.data.perfil===\"Adm\"){navigate('/administrador');}else{navigate('/pedido');}}}catch(error){alert('Falha no Login'+error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(TitleLogin,{children:\"Fa\\xE7a seu Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:clienteLoginPost,children:[/*#__PURE__*/_jsx(Input,{name:\"nome\",onChange:handleChange,errorMessage:errors===null||errors===void 0?void 0:(_errors$nome=errors.nome)===null||_errors$nome===void 0?void 0:_errors$nome.message,control:control,placeholder:\"Nome:\"}),/*#__PURE__*/_jsx(Input,{name:\"telefone\",onChange:handleChange,errorMessage:errors===null||errors===void 0?void 0:(_errors$telefone=errors.telefone)===null||_errors$telefone===void 0?void 0:_errors$telefone.message,control:control,placeholder:\"Telefone\"}),/*#__PURE__*/_jsx(Button,{title:\"Login\",type:\"submit\"}),/*#__PURE__*/_jsx(CriarText,{href:\"/criarconta\",children:\" Criar conta\"})]})]})})});}export{Login};","map":{"version":3,"names":["useForm","useState","useNavigate","api","Input","Button","yupResolver","yup","TitleLogin","Container","Wrapper","CriarText","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","schema","object","nome","string","required","telefone","Login","_errors$nome","_errors$telefone","navigate","handleCriarConta","control","handleSubmit","formState","errors","resolver","mode","cliente","setCliente","id","handleChange","e","name","value","target","_objectSpread","console","log","clienteLoginPost","preventDefault","alert","response","post","data","perfil","error","children","onSubmit","onChange","errorMessage","message","placeholder","title","type","href"],"sources":["C:/Users/Marinara Souza Silva/Desktop/ProjetoRestaurante/frontrestaurante/src/Pages/Login/index.js"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate  } from \"react-router-dom\";\r\nimport { api } from \"../../Services/Api\";\r\nimport Input from \"../../Components/Input\";\r\nimport Button from \"../../Components/Button\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport {  TitleLogin, Container, Wrapper, CriarText } from \"./styles\"\r\n\r\nconst schema = yup.object({\r\n  nome: yup.string().required('Campo obrigatório'),\r\n  telefone: yup.string().required('Campo obrigatório'),\r\n}).required();\r\n\r\nfunction Login() {\r\n\r\n  const navigate = useNavigate();\r\n  const handleCriarConta = () => {\r\n    navigate('/criarconta')\r\n      \r\n  }\r\n  \r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onChange\",\r\n  });\r\n \r\n  const [cliente, setCliente] = useState({\r\n    id: '',\r\n    nome: '',\r\n    telefone: ''\r\n  })\r\n    \r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setCliente({\r\n      ...cliente, [name]: value\r\n    });\r\n    \r\n    console.log(cliente)\r\n  }\r\n\r\n\r\n  const clienteLoginPost = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      delete cliente.id\r\n      if (cliente.nome == null || cliente.telefone == null) {\r\n        alert(\"Insira o nome e o telefone\")\r\n      } else {\r\n        const response = await api.post(`Cliente/Login`, cliente)\r\n        if (response.data.perfil === \"Adm\") {\r\n          navigate('/administrador')\r\n            \r\n        } else {\r\n          navigate('/pedido')\r\n          \r\n          }\r\n      }\r\n    } \r\n  catch (error) {\r\n    alert('Falha no Login' + error)\r\n  }\r\n}\r\n    return (\r\n        <>\r\n            <Container>   \r\n                <Wrapper>\r\n                    \r\n                    <TitleLogin>Faça seu Login</TitleLogin>\r\n\r\n            <form onSubmit={(clienteLoginPost)}>\r\n                <Input name=\"nome\" onChange={handleChange} errorMessage={errors?.nome?.message}  control={control} placeholder=\"Nome:\" />    \r\n                <Input name=\"telefone\" onChange={handleChange} errorMessage={errors?.telefone?.message} control={control} placeholder=\"Telefone\" />   \r\n                \r\n                <Button title=\"Login\"   type=\"submit\"/>\r\n                <CriarText href=\"/criarconta\"> Criar conta</CriarText>\r\n\r\n            </form>\r\n            \r\n                    </Wrapper>   \r\n            </Container>\r\n        \r\n        \r\n        </>\r\n\r\n    )\r\n}\r\nexport {Login}"],"mappings":"8JAAA,OAASA,OAAO,KAAQ,iBAAiB,CACzC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAS,kBAAkB,CAC/C,OAASC,GAAG,KAAQ,oBAAoB,CACxC,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAC1B,OAAUC,UAAU,CAAEC,SAAS,CAAEC,OAAO,CAAEC,SAAS,KAAQ,UAAU,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErE,KAAM,CAAAC,MAAM,CAAGX,GAAG,CAACY,MAAM,CAAC,CACxBC,IAAI,CAAEb,GAAG,CAACc,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,mBAAmB,CAAC,CAChDC,QAAQ,CAAEhB,GAAG,CAACc,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,mBAAmB,CACrD,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CAEb,QAAS,CAAAE,KAAKA,CAAA,CAAG,KAAAC,YAAA,CAAAC,gBAAA,CAEf,KAAM,CAAAC,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAA0B,gBAAgB,CAAGA,CAAA,GAAM,CAC7BD,QAAQ,CAAC,aAAa,CAAC,CAEzB,CAAC,CAGD,KAAM,CACJE,OAAO,CACPC,YAAY,CACZC,SAAS,CAAE,CAAEC,MAAO,CACtB,CAAC,CAAGhC,OAAO,CAAC,CACViC,QAAQ,CAAE3B,WAAW,CAACY,MAAM,CAAC,CAC7BgB,IAAI,CAAE,UACR,CAAC,CAAC,CAEF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGnC,QAAQ,CAAC,CACrCoC,EAAE,CAAE,EAAE,CACNjB,IAAI,CAAE,EAAE,CACRG,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEF,KAAM,CAAAe,YAAY,CAAGC,CAAC,EAAI,CACxB,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCN,UAAU,CAAAO,aAAA,CAAAA,aAAA,IACLR,OAAO,MAAE,CAACK,IAAI,EAAGC,KAAK,EAC1B,CAAC,CAEFG,OAAO,CAACC,GAAG,CAACV,OAAO,CAAC,CACtB,CAAC,CAGD,KAAM,CAAAW,gBAAgB,CAAG,KAAO,CAAAP,CAAC,EAAK,CACpCA,CAAC,CAACQ,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,MAAO,CAAAZ,OAAO,CAACE,EAAE,CACjB,GAAIF,OAAO,CAACf,IAAI,EAAI,IAAI,EAAIe,OAAO,CAACZ,QAAQ,EAAI,IAAI,CAAE,CACpDyB,KAAK,CAAC,4BAA4B,CAAC,CACrC,CAAC,IAAM,CACL,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA9C,GAAG,CAAC+C,IAAI,iBAAkBf,OAAO,CAAC,CACzD,GAAIc,QAAQ,CAACE,IAAI,CAACC,MAAM,GAAK,KAAK,CAAE,CAClCzB,QAAQ,CAAC,gBAAgB,CAAC,CAE5B,CAAC,IAAM,CACLA,QAAQ,CAAC,SAAS,CAAC,CAEnB,CACJ,CACF,CACF,MAAO0B,KAAK,CAAE,CACZL,KAAK,CAAC,gBAAgB,CAAGK,KAAK,CAAC,CACjC,CACF,CAAC,CACG,mBACIxC,IAAA,CAAAI,SAAA,EAAAqC,QAAA,cACIzC,IAAA,CAACJ,SAAS,EAAA6C,QAAA,cACNvC,KAAA,CAACL,OAAO,EAAA4C,QAAA,eAEJzC,IAAA,CAACL,UAAU,EAAA8C,QAAA,CAAC,mBAAc,CAAY,CAAC,cAE/CvC,KAAA,SAAMwC,QAAQ,CAAGT,gBAAkB,CAAAQ,QAAA,eAC/BzC,IAAA,CAACT,KAAK,EAACoC,IAAI,CAAC,MAAM,CAACgB,QAAQ,CAAElB,YAAa,CAACmB,YAAY,CAAEzB,MAAM,SAANA,MAAM,kBAAAP,YAAA,CAANO,MAAM,CAAEZ,IAAI,UAAAK,YAAA,iBAAZA,YAAA,CAAciC,OAAQ,CAAE7B,OAAO,CAAEA,OAAQ,CAAC8B,WAAW,CAAC,OAAO,CAAE,CAAC,cACzH9C,IAAA,CAACT,KAAK,EAACoC,IAAI,CAAC,UAAU,CAACgB,QAAQ,CAAElB,YAAa,CAACmB,YAAY,CAAEzB,MAAM,SAANA,MAAM,kBAAAN,gBAAA,CAANM,MAAM,CAAET,QAAQ,UAAAG,gBAAA,iBAAhBA,gBAAA,CAAkBgC,OAAQ,CAAC7B,OAAO,CAAEA,OAAQ,CAAC8B,WAAW,CAAC,UAAU,CAAE,CAAC,cAEnI9C,IAAA,CAACR,MAAM,EAACuD,KAAK,CAAC,OAAO,CAAGC,IAAI,CAAC,QAAQ,CAAC,CAAC,cACvChD,IAAA,CAACF,SAAS,EAACmD,IAAI,CAAC,aAAa,CAAAR,QAAA,CAAC,cAAY,CAAW,CAAC,EAEpD,CAAC,EAEU,CAAC,CACP,CAAC,CAGd,CAAC,CAGX,CACA,OAAQ9B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}