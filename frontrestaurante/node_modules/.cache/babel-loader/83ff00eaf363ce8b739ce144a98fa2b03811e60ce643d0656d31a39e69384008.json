{"ast":null,"code":"import _objectSpread from\"C:/Users/Marinara Souza Silva/Desktop/ProjetoRestaurante/frontrestaurante/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useForm}from\"react-hook-form\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{api}from\"../../Services/Api\";import Input from\"../../Components/Input\";import Button from\"../../Components/Button\";import{yupResolver}from'@hookform/resolvers/yup';import*as yup from'yup';import{TitleLogin,Container,Wrapper,CriarText}from\"./styles\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const schema=yup.object({nome:yup.string().required('Campo obrigatório'),telefone:yup.string().required('Campo obrigatório')}).required();function CriarConta(){var _errors$nome,_errors$telefone;const navigate=useNavigate();const{control,handleSubmit,formState:{errors}}=useForm({resolver:yupResolver(schema),mode:\"onChange\"});const[cliente,setCliente]=useState({id:'',nome:'',telefone:''});const handleChange=e=>{const{name,value}=e.target;setCliente(_objectSpread(_objectSpread({},cliente),{},{[name]:value}));console.log(cliente);};const clientePost=async e=>{e.preventDefault();try{delete cliente.id;const response=await api.post(\"Cliente\",cliente);navigate('/pedido');}catch(error){alert('Erro ao criar a conta '+error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(TitleLogin,{children:\"Fa\\xE7a seu Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:clientePost,children:[/*#__PURE__*/_jsx(Input,{name:\"nome\",onChange:handleChange,errorMessage:errors===null||errors===void 0?void 0:(_errors$nome=errors.nome)===null||_errors$nome===void 0?void 0:_errors$nome.message,control:control,placeholder:\"Nome:\"}),/*#__PURE__*/_jsx(Input,{name:\"telefone\",onChange:handleChange,errorMessage:errors===null||errors===void 0?void 0:(_errors$telefone=errors.telefone)===null||_errors$telefone===void 0?void 0:_errors$telefone.message,control:control,placeholder:\"Telefone\"}),/*#__PURE__*/_jsx(Button,{title:\"Criar conta\",type:\"submit\"})]})]})})});}export{CriarConta};","map":{"version":3,"names":["useForm","useState","useNavigate","api","Input","Button","yupResolver","yup","TitleLogin","Container","Wrapper","CriarText","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","schema","object","nome","string","required","telefone","CriarConta","_errors$nome","_errors$telefone","navigate","control","handleSubmit","formState","errors","resolver","mode","cliente","setCliente","id","handleChange","e","name","value","target","_objectSpread","console","log","clientePost","preventDefault","response","post","error","alert","children","onSubmit","onChange","errorMessage","message","placeholder","title","type"],"sources":["C:/Users/Marinara Souza Silva/Desktop/ProjetoRestaurante/frontrestaurante/src/Pages/CriarConta/index.js"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate  } from \"react-router-dom\";\r\nimport { api } from \"../../Services/Api\";\r\nimport Input from \"../../Components/Input\";\r\nimport Button from \"../../Components/Button\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport { TitleLogin, Container, Wrapper, CriarText } from \"./styles\"\r\n\r\nconst schema = yup.object({\r\n  nome: yup.string().required('Campo obrigatório'),\r\n  telefone: yup.string().required('Campo obrigatório'),\r\n}).required();\r\n\r\nfunction CriarConta() {\r\n      const navigate = useNavigate();\r\n\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onChange\",\r\n  });\r\n \r\n  const [cliente, setCliente] = useState({\r\n    id: '',\r\n    nome: '',\r\n    telefone: ''\r\n  })\r\n    \r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setCliente({\r\n      ...cliente, [name]: value\r\n    });\r\n    \r\n    console.log(cliente)\r\n  }\r\n\r\n    const clientePost = async (e) => {\r\n        e.preventDefault();\r\n        try { \r\n            delete cliente.id\r\n            const response = await api.post(`Cliente`, cliente)\r\n\r\n        navigate('/pedido')\r\n        \r\n        }\r\n        catch(error)\r\n        {\r\n            alert('Erro ao criar a conta ' + error)\r\n    }\r\n      \r\n  }\r\n\r\n\r\n    return (<>\r\n    <Container>   \r\n                    <Wrapper>\r\n                        \r\n                        <TitleLogin>Faça seu Login</TitleLogin>\r\n    \r\n                <form onSubmit={(clientePost)}>\r\n                    <Input name=\"nome\" onChange={handleChange} errorMessage={errors?.nome?.message}  control={control} placeholder=\"Nome:\" />    \r\n                    <Input name=\"telefone\" onChange={handleChange} errorMessage={errors?.telefone?.message} control={control} placeholder=\"Telefone\" />   \r\n                    \r\n                    <Button title=\"Criar conta\"   type=\"submit\"/>\r\n\r\n    \r\n                </form>\r\n                \r\n                        </Wrapper>   \r\n                </Container>\r\n            \r\n            \r\n    \r\n    </>)\r\n}\r\n\r\nexport {CriarConta}"],"mappings":"8JAAA,OAASA,OAAO,KAAQ,iBAAiB,CACzC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAS,kBAAkB,CAC/C,OAASC,GAAG,KAAQ,oBAAoB,CACxC,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAC1B,OAASC,UAAU,CAAEC,SAAS,CAAEC,OAAO,CAAEC,SAAS,KAAQ,UAAU,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpE,KAAM,CAAAC,MAAM,CAAGX,GAAG,CAACY,MAAM,CAAC,CACxBC,IAAI,CAAEb,GAAG,CAACc,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,mBAAmB,CAAC,CAChDC,QAAQ,CAAEhB,GAAG,CAACc,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,mBAAmB,CACrD,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CAEb,QAAS,CAAAE,UAAUA,CAAA,CAAG,KAAAC,YAAA,CAAAC,gBAAA,CAChB,KAAM,CAAAC,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAGlC,KAAM,CACJ0B,OAAO,CACPC,YAAY,CACZC,SAAS,CAAE,CAAEC,MAAO,CACtB,CAAC,CAAG/B,OAAO,CAAC,CACVgC,QAAQ,CAAE1B,WAAW,CAACY,MAAM,CAAC,CAC7Be,IAAI,CAAE,UACR,CAAC,CAAC,CAEF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAC,CACrCmC,EAAE,CAAE,EAAE,CACNhB,IAAI,CAAE,EAAE,CACRG,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEF,KAAM,CAAAc,YAAY,CAAGC,CAAC,EAAI,CACxB,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCN,UAAU,CAAAO,aAAA,CAAAA,aAAA,IACLR,OAAO,MAAE,CAACK,IAAI,EAAGC,KAAK,EAC1B,CAAC,CAEFG,OAAO,CAACC,GAAG,CAACV,OAAO,CAAC,CACtB,CAAC,CAEC,KAAM,CAAAW,WAAW,CAAG,KAAO,CAAAP,CAAC,EAAK,CAC7BA,CAAC,CAACQ,cAAc,CAAC,CAAC,CAClB,GAAI,CACA,MAAO,CAAAZ,OAAO,CAACE,EAAE,CACjB,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAA5C,GAAG,CAAC6C,IAAI,WAAYd,OAAO,CAAC,CAEvDP,QAAQ,CAAC,SAAS,CAAC,CAEnB,CACA,MAAMsB,KAAK,CACX,CACIC,KAAK,CAAC,wBAAwB,CAAGD,KAAK,CAAC,CAC/C,CAEF,CAAC,CAGC,mBAAQpC,IAAA,CAAAI,SAAA,EAAAkC,QAAA,cACRtC,IAAA,CAACJ,SAAS,EAAA0C,QAAA,cACMpC,KAAA,CAACL,OAAO,EAAAyC,QAAA,eAEJtC,IAAA,CAACL,UAAU,EAAA2C,QAAA,CAAC,mBAAc,CAAY,CAAC,cAE/CpC,KAAA,SAAMqC,QAAQ,CAAGP,WAAa,CAAAM,QAAA,eAC1BtC,IAAA,CAACT,KAAK,EAACmC,IAAI,CAAC,MAAM,CAACc,QAAQ,CAAEhB,YAAa,CAACiB,YAAY,CAAEvB,MAAM,SAANA,MAAM,kBAAAN,YAAA,CAANM,MAAM,CAAEX,IAAI,UAAAK,YAAA,iBAAZA,YAAA,CAAc8B,OAAQ,CAAE3B,OAAO,CAAEA,OAAQ,CAAC4B,WAAW,CAAC,OAAO,CAAE,CAAC,cACzH3C,IAAA,CAACT,KAAK,EAACmC,IAAI,CAAC,UAAU,CAACc,QAAQ,CAAEhB,YAAa,CAACiB,YAAY,CAAEvB,MAAM,SAANA,MAAM,kBAAAL,gBAAA,CAANK,MAAM,CAAER,QAAQ,UAAAG,gBAAA,iBAAhBA,gBAAA,CAAkB6B,OAAQ,CAAC3B,OAAO,CAAEA,OAAQ,CAAC4B,WAAW,CAAC,UAAU,CAAE,CAAC,cAEnI3C,IAAA,CAACR,MAAM,EAACoD,KAAK,CAAC,aAAa,CAAGC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAG3C,CAAC,EAEU,CAAC,CACP,CAAC,CAItB,CAAC,CACP,CAEA,OAAQlC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}